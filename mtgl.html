<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MTG Visual Guide</title>
    <style>
        :root {
            --bg: #111;
            --panel: #1e1e24;
            --accent: #ff4757;
            --text: #f1f2f6;
            --subtext: #a4b0be;
            --border: #2f3542;
            --card-w: 140px;
            --card-h: 140px;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 20px;
            height: 100vh;
            box-sizing: border-box;
            overflow: hidden; /* App-like feel */
            display: flex;
            flex-direction: column;
        }

        /* HEADER */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-shrink: 0;
        }
        h1 { margin: 0; font-size: 1.2rem; text-transform: uppercase; letter-spacing: 2px; color: #7bed9f; }
        
        .toggle-btn {
            background: var(--panel);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
        }

        /* MAIN GRID */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            overflow-y: auto;
            padding-bottom: 50px;
            flex-grow: 1;
        }

        .effect-card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            height: var(--card-h);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
            overflow: hidden;
        }

        .effect-card:active { transform: scale(0.95); }
        .effect-card:hover { border-color: var(--accent); }

        .label {
            position: absolute;
            bottom: 10px;
            font-size: 0.9rem;
            font-weight: bold;
            text-align: center;
            width: 100%;
            z-index: 2;
        }

        /* ANIMATION CANVAS AREA */
        .stage {
            width: 80px;
            height: 80px;
            position: relative;
            margin-bottom: 20px;
        }

        /* --- VISUALIZATIONS --- */

        /* 1. TRAMPLE: Arrow pushes through barrier */
        .trample-arrow {
            width: 0; height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 20px solid #ff6b6b;
            position: absolute;
            bottom: 0; left: 30px;
            animation: trampleCrash 1.5s infinite;
        }
        .trample-wall {
            width: 40px; height: 4px;
            background: #70a1ff;
            position: absolute;
            top: 30px; left: 20px;
            opacity: 1;
            animation: trampleBreak 1.5s infinite;
        }
        @keyframes trampleCrash {
            0% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            100% { transform: translateY(-60px); opacity: 0; }
        }
        @keyframes trampleBreak {
            0%, 35% { width: 40px; opacity: 1; transform: scaleX(1); }
            40% { width: 60px; opacity: 0.5; transform: scaleX(1.5); }
            100% { width: 80px; opacity: 0; transform: scaleX(2); }
        }

        /* 2. VIGILANCE: Eye stays open, Box moves but doesn't rotate */
        .vigilance-box {
            width: 30px; height: 40px;
            background: #eccc68;
            border-radius: 4px;
            position: absolute;
            top: 40px; left: 25px;
            animation: vigilanceAttack 2s infinite ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .vigilance-eye {
            width: 10px; height: 10px;
            background: #fff;
            border-radius: 50%;
            border: 2px solid #000;
        }
        @keyframes vigilanceAttack {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(0deg); } /* Attacking but NOT tapping */
            100% { transform: translateY(0) rotate(0deg); }
        }

        /* 3. FLYING: Shadow separation */
        .fly-obj {
            width: 30px; height: 30px;
            background: #7bed9f;
            border-radius: 50%;
            position: absolute;
            top: 20px; left: 25px;
            animation: float 2s infinite ease-in-out;
            z-index: 2;
        }
        .fly-shadow {
            width: 30px; height: 10px;
            background: rgba(0,0,0,0.5);
            border-radius: 50%;
            position: absolute;
            top: 60px; left: 25px;
            animation: shadowScale 2s infinite ease-in-out;
        }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes shadowScale { 0%, 100% { transform: scale(1); opacity: 0.5; } 50% { transform: scale(0.8); opacity: 0.2; } }

        /* 4. DEATHTOUCH: Green pulse kills target */
        .death-skull {
            font-size: 20px;
            position: absolute;
            top: 30px; left: 30px;
            color: #2ed573;
            animation: pulseToxic 1.5s infinite;
        }
        @keyframes pulseToxic {
            0% { transform: scale(1); text-shadow: 0 0 0 #2ed573; }
            50% { transform: scale(1.2); text-shadow: 0 0 10px #2ed573; }
            100% { transform: scale(1); }
        }

        /* 5. HASTE: Motion blur / Speed */
        .haste-obj {
            width: 40px; height: 20px;
            background: #ff4757;
            position: absolute;
            top: 30px; left: -20px;
            transform: skewX(-20deg);
            animation: zoom 1s infinite linear;
        }
        @keyframes zoom {
            0% { left: -40px; opacity: 0; }
            50% { opacity: 1; }
            100% { left: 80px; opacity: 0; }
        }

        /* 6. HEXPROOF: Shield repels dot */
        .hex-shield {
            width: 30px; height: 30px;
            border: 2px solid #1e90ff;
            border-radius: 50%;
            position: absolute;
            top: 25px; left: 25px;
            box-shadow: 0 0 5px #1e90ff;
        }
        .hex-spell {
            width: 8px; height: 8px;
            background: #ff6b6b;
            border-radius: 50%;
            position: absolute;
            top: 35px; left: 70px;
            animation: repel 2s infinite;
        }
        @keyframes repel {
            0% { left: 70px; opacity: 1; }
            40% { left: 45px; } /* Gets close */
            50% { left: 60px; opacity: 0; } /* Bounces off */
            100% { left: 70px; opacity: 0; }
        }

        /* 7. INDESTRUCTIBLE: Resists shaking */
        .indest-wall {
            width: 40px; height: 40px;
            background: #a4b0be;
            border: 2px solid #fff;
            position: absolute;
            top: 20px; left: 20px;
        }
        .indest-hit {
            position: absolute;
            top: 30px; left: 0px;
            width: 20px; height: 20px;
            background: rgba(255,255,255,0.2);
            animation: hit 2s infinite;
        }
        @keyframes hit {
            0% { left: -20px; }
            20% { left: 20px; } /* Hit */
            25% { left: 10px; opacity: 0;}
            100% { opacity: 0;}
        }

        /* 8. LIFELINK: Hearts rising */
        .life-source {
            width: 30px; height: 30px;
            background: #fff;
            position: absolute;
            bottom: 10px; left: 25px;
            border-radius: 4px;
        }
        .life-heart {
            position: absolute;
            color: #ff4757;
            font-size: 12px;
            animation: floatHeart 2s infinite;
        }
        @keyframes floatHeart {
            0% { top: 40px; left: 35px; opacity: 1; }
            100% { top: 0px; left: 35px; opacity: 0; }
        }

        /* 9. REACH: Spider web/Arm grabbing up */
        .reach-ground {
            width: 30px; height: 30px;
            background: #2f3542;
            position: absolute;
            bottom: 10px; left: 25px;
        }
        .reach-arm {
            width: 4px; height: 40px;
            background: #2ed573;
            position: absolute;
            bottom: 30px; left: 38px;
            animation: stretch 2s infinite;
        }
        @keyframes stretch {
            0% { height: 10px; }
            50% { height: 50px; }
            100% { height: 10px; }
        }

        /* 10. MENACE: 1 Blocker fails, 2 Blockers appear */
        .menace-attacker {
            width: 20px; height: 20px;
            background: #ff4757;
            border-radius: 50%;
            position: absolute;
            top: 30px; left: 10px;
        }
        .menace-blocker {
            width: 20px; height: 20px;
            border: 1px solid #fff;
            position: absolute;
            top: 30px; right: 10px;
            animation: menaceShake 2s infinite;
        }
        @keyframes menaceShake {
            0% { transform: translateX(0); border-color: red;}
            20% { transform: translateX(-5px); }
            40% { transform: translateX(5px); }
            100% { transform: translateX(0); border-color: red;}
        }

        /* MODAL OVERLAY */
        #detailsModal {
            position: fixed;
            bottom: -100%;
            left: 0;
            width: 100%;
            height: 40vh;
            background: #2f3542;
            border-top: 2px solid var(--accent);
            transition: bottom 0.3s ease;
            z-index: 100;
            padding: 20px;
            box-sizing: border-box;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        }
        #detailsModal.active { bottom: 0; }
        
        .modal-title { font-size: 1.5rem; color: var(--accent); margin-bottom: 10px; }
        .modal-desc { font-size: 1.1rem; line-height: 1.5; color: #fff; }
        .close-modal { position: absolute; top: 10px; right: 20px; font-size: 1.5rem; cursor: pointer; }

        /* COLOR & PHASE CHEAT SHEET (Hidden by default) */
        #cheatSheet {
            display: none;
            position: absolute;
            top: 60px; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.95);
            z-index: 50;
            overflow-y: auto;
            padding: 20px;
        }
        .cs-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .cs-item { padding: 10px; background: #333; border-radius: 5px; font-size: 0.9rem; }
        .mana { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 5px; }

    </style>
</head>
<body>

<header>
    <h1>MTG Holodeck</h1>
    <button class="toggle-btn" onclick="toggleCheatSheet()">Colors & Phases</button>
</header>

<div class="grid-container">
    
    <div class="effect-card" onclick="showInfo('Trample', 'If this creature deals enough damage to kill its blocker, the leftover damage hits the opponent player immediately.')">
        <div class="stage">
            <div class="trample-wall"></div>
            <div class="trample-arrow"></div>
        </div>
        <div class="label">Trample</div>
    </div>

    <div class="effect-card" onclick="showInfo('Flying', 'This creature cannot be blocked by creatures on the ground. Only creatures with Flying or Reach can block it.')">
        <div class="stage">
            <div class="fly-obj"></div>
            <div class="fly-shadow"></div>
        </div>
        <div class="label">Flying</div>
    </div>

    <div class="effect-card" onclick="showInfo('Vigilance', 'This creature does not tap when attacking. It stays upright so it can block during your opponent\'s next turn.')">
        <div class="stage">
            <div class="vigilance-box"><div class="vigilance-eye"></div></div>
        </div>
        <div class="label">Vigilance</div>
    </div>

    <div class="effect-card" onclick="showInfo('Deathtouch', 'Any amount of damage this deals to a creature is enough to kill it. 1 damage is lethal.')">
        <div class="stage">
            <div class="death-skull">‚ò†</div>
        </div>
        <div class="label">Deathtouch</div>
    </div>

    <div class="effect-card" onclick="showInfo('Haste', 'This creature ignores Summoning Sickness. It can attack and tap as soon as it enters the battlefield.')">
        <div class="stage">
            <div class="haste-obj"></div>
        </div>
        <div class="label">Haste</div>
    </div>

    <div class="effect-card" onclick="showInfo('Hexproof', 'Your opponents cannot target this with spells or abilities. However, YOU can still target it.')">
        <div class="stage">
            <div class="hex-shield"></div>
            <div class="hex-spell"></div>
        </div>
        <div class="label">Hexproof</div>
    </div>

    <div class="effect-card" onclick="showInfo('Indestructible', 'Damage and effects that say \'Destroy\' do not kill this creature. It can still be exiled or sacrificed.')">
        <div class="stage">
            <div class="indest-wall"></div>
            <div class="indest-hit"></div>
        </div>
        <div class="label">Indestructible</div>
    </div>

    <div class="effect-card" onclick="showInfo('Lifelink', 'Damage dealt by this creature also causes you to gain that much life.')">
        <div class="stage">
            <div class="life-source"></div>
            <div class="life-heart">‚ô•</div>
        </div>
        <div class="label">Lifelink</div>
    </div>

    <div class="effect-card" onclick="showInfo('Reach', 'This creature can block creatures with Flying, even though it does not have Flying itself.')">
        <div class="stage">
            <div class="reach-ground"></div>
            <div class="reach-arm"></div>
        </div>
        <div class="label">Reach</div>
    </div>

    <div class="effect-card" onclick="showInfo('Menace', 'This creature cannot be blocked by a single creature. The opponent must use two or more blockers to stop it.')">
        <div class="stage">
            <div class="menace-attacker"></div>
            <div class="menace-blocker"></div>
        </div>
        <div class="label">Menace</div>
    </div>

    <div class="effect-card" onclick="showInfo('First Strike', 'This deals damage before regular damage. If it kills the blocker, the blocker dies before it can hit back.')">
        <div class="stage" style="display:flex; align-items:center; justify-content:center;">
            <div style="font-size:30px; animation: flash 0.5s infinite;">‚ö°</div>
        </div>
        <div class="label">First Strike</div>
    </div>

    <div class="effect-card" onclick="showInfo('Ward X', 'If an opponent targets this, their spell is countered unless they pay the extra Ward cost (Mana or Life).')">
        <div class="stage" style="display:flex; align-items:center; justify-content:center;">
             <div style="border: 2px dashed #7bed9f; padding: 5px; border-radius: 50%;">üõ°Ô∏è</div>
        </div>
        <div class="label">Ward</div>
    </div>
</div>

<div id="detailsModal">
    <span class="close-modal" onclick="closeInfo()">√ó</span>
    <div class="modal-title" id="mTitle">Title</div>
    <div class="modal-desc" id="mDesc">Description goes here.</div>
</div>

<div id="cheatSheet">
    <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
        <h2 style="margin:0; color:#fff;">Guilds & Phases</h2>
        <button onclick="toggleCheatSheet()" class="toggle-btn">Close</button>
    </div>
    
    <h3 style="color:var(--accent)">Turn Phases</h3>
    <div class="cs-item" style="margin-bottom: 20px;">
        1. <strong>Untap</strong> (Reset cards)<br>
        2. <strong>Upkeep</strong> (Triggers)<br>
        3. <strong>Draw</strong><br>
        4. <strong>Main Phase 1</strong> (Play lands/creatures)<br>
        5. <strong>Combat</strong> (Attack!)<br>
        6. <strong>Main Phase 2</strong> (Play post-combat stuff)<br>
        7. <strong>End Step</strong>
    </div>

    <h3 style="color:var(--accent)">Two-Color Guilds</h3>
    <div class="cs-grid">
        <div class="cs-item"><span class="mana" style="background:#fff"></span><span class="mana" style="background:#09f"></span> Azorius (W/U)</div>
        <div class="cs-item"><span class="mana" style="background:#09f"></span><span class="mana" style="background:#333"></span> Dimir (U/B)</div>
        <div class="cs-item"><span class="mana" style="background:#333"></span><span class="mana" style="background:#f00"></span> Rakdos (B/R)</div>
        <div class="cs-item"><span class="mana" style="background:#f00"></span><span class="mana" style="background:#0f0"></span> Gruul (R/G)</div>
        <div class="cs-item"><span class="mana" style="background:#0f0"></span><span class="mana" style="background:#fff"></span> Selesnya (G/W)</div>
        <div class="cs-item"><span class="mana" style="background:#fff"></span><span class="mana" style="background:#333"></span> Orzhov (W/B)</div>
        <div class="cs-item"><span class="mana" style="background:#f00"></span><span class="mana" style="background:#fff"></span> Boros (R/W)</div>
        <div class="cs-item"><span class="mana" style="background:#0f0"></span><span class="mana" style="background:#09f"></span> Simic (G/U)</div>
        <div class="cs-item"><span class="mana" style="background:#09f"></span><span class="mana" style="background:#f00"></span> Izzet (U/R)</div>
        <div class="cs-item"><span class="mana" style="background:#333"></span><span class="mana" style="background:#0f0"></span> Golgari (B/G)</div>
    </div>
</div>

<script>
    function showInfo(title, desc) {
        document.getElementById('mTitle').innerText = title;
        document.getElementById('mDesc').innerText = desc;
        document.getElementById('detailsModal').classList.add('active');
    }

    function closeInfo() {
        document.getElementById('detailsModal').classList.remove('active');
    }

    function toggleCheatSheet() {
        const sheet = document.getElementById('cheatSheet');
        if(sheet.style.display === 'block') {
            sheet.style.display = 'none';
        } else {
            sheet.style.display = 'block';
        }
    }
</script>

</body>
</html>
