<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MTG Visual Reference</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-main: #121212;
            --bg-card: #1e1e24;
            --bg-modal: #2a2a35;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --accent: #6c5ce7; /* A professional purple/blue */
            --danger: #ff4757;
            --success: #2ed573;
            --card-shadow: 0 4px 15px rgba(0,0,0,0.3);
            --modal-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        body {
            background-color: var(--bg-main);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* Header */
        header {
            max-width: 1000px;
            margin: 0 auto 30px auto;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }
        h1 {
            margin: 0;
            font-weight: 800;
            letter-spacing: -1px;
            background: linear-gradient(45deg, var(--accent), #a55eea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        p.subtitle { margin-top: 10px; color: var(--text-secondary); }

        /* MAIN GRID */
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .grid {
            display: grid;
            /* Optimized grid for various screen sizes */
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
            justify-content: center;
        }

        .card {
            background: var(--bg-card);
            border-radius: 16px;
            height: 180px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--card-shadow);
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(108, 92, 231, 0.2);
            border-color: var(--accent);
        }

        .card-label {
            margin-top: 15px;
            font-weight: 600;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
        }

        /* ANIMATION STAGE (Shared by Card and Modal) */
        .stage {
            width: 80px;
            height: 80px;
            position: relative;
            /* Border useful for debugging animations areas */
            /* border: 1px dashed #333; */ 
        }

        /* --- MODAL --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 100;
        }
        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: var(--bg-modal);
            width: 90%;
            max-width: 500px;
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--modal-shadow);
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }

        .close-btn {
            position: absolute;
            top: 15px; right: 20px;
            font-size: 2rem;
            color: var(--text-secondary);
            cursor: pointer;
            line-height: 1;
        }
        .close-btn:hover { color: var(--text-primary); }

        .modal-title { font-size: 1.8rem; font-weight: 800; margin: 15px 0; color: var(--accent); }
        .modal-desc {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--text-secondary);
            text-align: center;
        }
        /* Larger stage for the modal */
        .modal-content .stage { transform: scale(1.5); margin-bottom: 20px; margin-top: 10px; }


        /* ================= ANIMATION KEYFRAMES ================= */
        /* Trample */
        .trample-arrow { width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 20px solid var(--danger); position: absolute; bottom: 0; left: 30px; animation: trampleCrash 1.5s infinite; }
        .trample-wall { width: 40px; height: 4px; background: #70a1ff; position: absolute; top: 30px; left: 20px; opacity: 1; animation: trampleBreak 1.5s infinite; }
        @keyframes trampleCrash { 0% { transform: translateY(0); } 40% { transform: translateY(-30px); } 100% { transform: translateY(-60px); opacity: 0; } }
        @keyframes trampleBreak { 0%, 35% { width: 40px; opacity: 1; transform: scaleX(1); } 40% { width: 60px; opacity: 0.5; transform: scaleX(1.5); } 100% { width: 80px; opacity: 0; transform: scaleX(2); } }

        /* Vigilance */
        .vigilance-box { width: 30px; height: 40px; background: #eccc68; border-radius: 4px; position: absolute; top: 40px; left: 25px; animation: vigilanceAttack 2s infinite ease-in-out; display: flex; align-items: center; justify-content: center; border: 2px solid #cba336;}
        .vigilance-eye { width: 10px; height: 10px; background: #fff; border-radius: 50%; border: 2px solid #000; }
        @keyframes vigilanceAttack { 0% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-30px) rotate(0deg); } 100% { transform: translateY(0) rotate(0deg); } }

        /* Flying */
        .fly-obj { width: 30px; height: 30px; background: #7bed9f; border-radius: 50%; position: absolute; top: 20px; left: 25px; animation: float 2s infinite ease-in-out; z-index: 2; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .fly-shadow { width: 30px; height: 8px; background: rgba(0,0,0,0.3); border-radius: 50%; position: absolute; top: 65px; left: 25px; animation: shadowScale 2s infinite ease-in-out; filter: blur(2px); }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes shadowScale { 0%, 100% { transform: scale(1); opacity: 0.5; } 50% { transform: scale(0.7); opacity: 0.2; } }

        /* Deathtouch */
        .death-skull { font-size: 32px; position: absolute; top: 20px; left: 24px; color: var(--success); animation: pulseToxic 1.5s infinite; }
        @keyframes pulseToxic { 0% { transform: scale(1); text-shadow: 0 0 0 var(--success); } 50% { transform: scale(1.15); text-shadow: 0 0 15px var(--success); } 100% { transform: scale(1); } }

        /* Haste */
        .haste-obj { width: 40px; height: 24px; background: var(--danger); position: absolute; top: 30px; left: -20px; transform: skewX(-20deg); animation: zoom 0.9s infinite linear; border-radius: 4px; }
        @keyframes zoom { 0% { left: -50px; opacity: 0; } 30% { opacity: 1; } 80% { opacity: 1; } 100% { left: 90px; opacity: 0; } }

        /* Hexproof */
        .hex-shield { width: 36px; height: 36px; border: 3px solid #1e90ff; border-radius: 50%; position: absolute; top: 22px; left: 22px; box-shadow: 0 0 10px #1e90ff, inset 0 0 10px #1e90ff; background: rgba(30, 144, 255, 0.1); }
        .hex-spell { width: 10px; height: 10px; background: var(--danger); border-radius: 50%; position: absolute; top: 35px; left: 80px; animation: repel 2s infinite ease-out; box-shadow: 0 0 5px var(--danger); }
        @keyframes repel { 0% { left: 80px; opacity: 0; } 20% { opacity: 1;} 40% { left: 50px; } /* Gets close */ 60% { left: 70px; opacity: 0; } /* Bounces off */ 100% { left: 80px; opacity: 0; } }

        /* Indestructible */
        .indest-wall { width: 40px; height: 40px; background: #535c68; border: 3px solid #dff9fb; position: absolute; top: 20px; left: 20px; border-radius: 4px; box-shadow: 0 0 10px #dff9fb; }
        .indest-hit { position: absolute; top: 30px; left: 0px; width: 30px; height: 30px; background: rgba(255,255,255,0.5); animation: hit 2s infinite; border-radius: 50%; filter:blur(5px)}
        @keyframes hit { 0% { left: -30px; opacity: 0;} 20% { opacity: 1;} 30% { left: 25px; opacity: 0.8;} 60% { left: 15px; opacity: 0;} 100% { opacity: 0;} }

        /* Menace */
        .menace-attacker { width: 24px; height: 24px; background: var(--danger); border-radius: 50%; position: absolute; top: 28px; left: 10px; box-shadow: 2px 2px 0 #000;}
        .menace-blocker { width: 24px; height: 24px; border: 2px solid #fff; background: #333; position: absolute; top: 28px; right: 15px; animation: menaceShake 2s infinite; border-radius: 4px;}
        @keyframes menaceShake { 0%, 100% { transform: translateX(0); border-color: var(--danger);} 15% { transform: translateX(-4px); } 30% { transform: translateX(4px); } 45% { transform: translateX(0); border-color: var(--danger);} }

    </style>
</head>
<body>

<header>
    <h1>MTG Visual Reference</h1>
    <p class="subtitle">Tap a keyword to see it in action.</p>
</header>

<div class="container">
    <div class="grid" id="cardGrid">
        </div>
</div>

<div class="modal-overlay" id="modalEntry">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <div id="modalStagePlaceholder" style="margin-top: 20px;">
            </div>
        <div class="modal-title" id="mTitle">Title</div>
        <div class="modal-desc" id="mDesc">Description goes here.</div>
    </div>
</div>

<script>
    // DATA SOURCE - The source of truth for content and animation HTML
    const keywordData = [
        {
            name: "Trample",
            desc: "If this creature deals enough damage to kill its blocker, the excess damage carries over and hits the opponent player.",
            animHtml: '<div class="stage"><div class="trample-wall"></div><div class="trample-arrow"></div></div>'
        },
        {
            name: "Vigilance",
            desc: "This creature does not tap when attacking. It stays upright so it can block during your opponent's next turn.",
            animHtml: '<div class="stage"><div class="vigilance-box"><div class="vigilance-eye"></div></div></div>'
        },
        {
            name: "Flying",
            desc: "Cannot be blocked by creatures on the ground. Only creatures with Flying or Reach can block it.",
            animHtml: '<div class="stage"><div class="fly-obj"></div><div class="fly-shadow"></div></div>'
        },
        {
            name: "Deathtouch",
            desc: "Any amount of combat damage this deals to another creature is lethal, regardless of that creature's toughness.",
            animHtml: '<div class="stage"><div class="death-skull">‚ò†</div></div>'
        },
        {
            name: "Haste",
            desc: "Ignores 'Summoning Sickness'. It can attack and use tap abilities the turn it enters the battlefield.",
            animHtml: '<div class="stage"><div class="haste-obj"></div></div>'
        },
        {
            name: "Hexproof",
            desc: "Your opponents cannot target this with spells or abilities. However, YOU can still target it with your own.",
            animHtml: '<div class="stage"><div class="hex-shield"></div><div class="hex-spell"></div></div>'
        },
        {
            name: "Indestructible",
            desc: "Effects that say 'Destroy' and lethal damage do not kill this creature. It can still be exiled or sacrificed.",
            animHtml: '<div class="stage"><div class="indest-wall"></div><div class="indest-hit"></div></div>'
        },
        {
            name: "Menace",
            desc: "This creature cannot be blocked by only one creature. The opponent must use two or more blockers to stop it.",
            animHtml: '<div class="stage"><div class="menace-attacker"></div><div class="menace-blocker"></div></div>'
        },
        {
            name: "First Strike",
            desc: "Deals its combat damage before creatures without First Strike. If it kills the blocker, the blocker doesn't get to hit back.",
            animHtml: '<div class="stage" style="display:flex; align-items:center; justify-content:center;"><div style="font-size:40px; color:#f1c40f;">‚ö°</div></div>'
        },
        {
            name: "Ward",
            desc: "If an opponent targets this, their spell is countered unless they pay an extra cost (usually mana or life).",
            animHtml: '<div class="stage" style="display:flex; align-items:center; justify-content:center;"><div style="border: 3px dashed #7bed9f; padding: 5px; border-radius: 50%; font-size: 30px;">üõ°Ô∏è</div></div>'
        }
    ];

    // 1. Initialize Grid
    const gridContainer = document.getElementById('cardGrid');

    keywordData.forEach((item, index) => {
        let card = document.createElement('div');
        card.className = 'card';
        // We pass the index so we can find the data later
        card.setAttribute('onclick', `openModal(${index})`);
        
        // Insert Animation & Label
        card.innerHTML = item.animHtml + `<div class="card-label">${item.name}</div>`;
        gridContainer.appendChild(card);
    });


    // 2. Modal Logic
    const modalOverlay = document.getElementById('modalEntry');
    const modalStage = document.getElementById('modalStagePlaceholder');
    const mTitle = document.getElementById('mTitle');
    const mDesc = document.getElementById('mDesc');

    function openModal(index) {
        const data = keywordData[index];
        
        // Inject content
        mTitle.innerText = data.name;
        mDesc.innerText = data.desc;
        // Inject freshly created animation HTML so it syncs correctly
        modalStage.innerHTML = data.animHtml;
        
        modalOverlay.classList.add('active');
    }

    function closeModal() {
        modalOverlay.classList.remove('active');
        // Clear animation to save resources when closed
        setTimeout(() => {
             modalStage.innerHTML = '';
        }, 300);
    }

    // Close modal if clicking outside the content box
    modalOverlay.addEventListener('click', (e) => {
        if (e.target === modalOverlay) {
            closeModal();
        }
    });

</script>

</body>
</html>
