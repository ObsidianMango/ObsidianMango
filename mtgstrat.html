<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE WISE MOTHMAN // STRATEGY HUD</title>
    <style>
        :root {
            --bg-color: #0b0f0f;
            --pip-green: #14f492;
            --nuclear-red: #ff3333;
            --science-blue: #33ccff;
            --mutation-purple: #bd33ff;
            --sorcery-orange: #ffaa33;
            --enchant-gold: #ffd700;
            --instant-cyan: #00eeee;
            --panel-bg: rgba(10, 20, 15, 0.7);
        }

        body {
            background-color: var(--bg-color);
            color: var(--pip-green);
            font-family: "Courier New", Courier, monospace;
            margin: 0;
            padding: 20px;
            /* Tech Background */
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(20, 244, 146, 0.05) 0%, transparent 60%),
                linear-gradient(0deg, transparent 24%, rgba(20, 244, 146, .03) 25%, rgba(20, 244, 146, .03) 26%, transparent 27%, transparent 74%, rgba(20, 244, 146, .03) 75%, rgba(20, 244, 146, .03) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(20, 244, 146, .03) 25%, rgba(20, 244, 146, .03) 26%, transparent 27%, transparent 74%, rgba(20, 244, 146, .03) 75%, rgba(20, 244, 146, .03) 76%, transparent 77%, transparent);
            background-size: 100% 100%, 50px 50px, 50px 50px;
            min-height: 100vh;
        }

        /* HEADER */
        header {
            text-align: center;
            border-bottom: 2px solid var(--pip-green);
            padding-bottom: 20px;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 10px var(--pip-green);
        }

        h1 { margin: 0; }
        .subtitle { font-size: 0.8rem; opacity: 0.8; margin-top: 5px; }

        /* TABS CONTAINER */
        .controls {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 30px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        /* BUTTON STYLES */
        button {
            background: rgba(0,0,0,0.6);
            border: 1px solid var(--pip-green);
            color: var(--pip-green);
            padding: 10px 18px;
            cursor: pointer;
            font-family: inherit;
            text-transform: uppercase;
            transition: all 0.3s;
            font-size: 0.85rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }

        button:hover { background: rgba(20, 244, 146, 0.2); box-shadow: 0 0 15px var(--pip-green); }
        button.active { background: var(--pip-green); color: #000; font-weight: bold; box-shadow: 0 0 20px var(--pip-green); }

        /* Custom Colors per Category */
        .btn-strat.nuclear:hover, .btn-strat.nuclear.active { border-color: var(--nuclear-red); color: white; background: var(--nuclear-red); box-shadow: 0 0 20px var(--nuclear-red); }
        .btn-strat.mill:hover, .btn-strat.mill.active { border-color: var(--science-blue); color: black; background: var(--science-blue); box-shadow: 0 0 20px var(--science-blue); }
        .btn-strat.mutate:hover, .btn-strat.mutate.active { border-color: var(--mutation-purple); color: white; background: var(--mutation-purple); box-shadow: 0 0 20px var(--mutation-purple); }
        
        /* Type Buttons */
        .btn-type.instant:hover, .btn-type.instant.active { border-color: var(--instant-cyan); color: black; background: var(--instant-cyan); box-shadow: 0 0 15px var(--instant-cyan); }
        .btn-type.sorcery:hover, .btn-type.sorcery.active { border-color: var(--sorcery-orange); color: black; background: var(--sorcery-orange); box-shadow: 0 0 15px var(--sorcery-orange); }
        .btn-type.enchant:hover, .btn-type.enchant.active { border-color: var(--enchant-gold); color: black; background: var(--enchant-gold); box-shadow: 0 0 15px var(--enchant-gold); }

        /* DESCRIPTION BOX */
        .desc-box {
            background: var(--panel-bg);
            border: 1px solid var(--pip-green);
            padding: 20px;
            max-width: 800px;
            margin: 0 auto 40px auto;
            text-align: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.8);
            border-radius: 4px;
        }
        .desc-title { font-size: 1.4rem; font-weight: bold; margin-bottom: 10px; text-transform: uppercase; }

        /* CARD GRID - CENTERED */
        .grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center; /* KEEPS CARDS CENTERED */
            gap: 35px;
            padding: 0 20px;
            max-width: 1400px;
            margin: 0 auto 50px auto;
        }

        .card-container {
            width: 240px;
            height: 336px; /* Standard Aspect Ratio */
            position: relative;
            transition: transform 0.3s ease;
            animation: float 6s ease-in-out infinite;
        }
        
        /* Stagger float animation */
        .card-container:nth-child(even) { animation-delay: 1s; }
        .card-container:nth-child(3n) { animation-delay: 2s; }

        .card-container:hover { transform: scale(1.1) translateY(-10px); z-index: 100; animation-play-state: paused; }

        .card-img {
            width: 100%;
            height: 100%;
            background-color: #111;
            border-radius: 12px;
            background-size: cover;
            background-position: center;
            border: 2px solid #333;
            box-shadow: 0 10px 20px rgba(0,0,0,0.8);
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
        }

        /* GLOW ANIMATION KEYFRAMES */
        @keyframes glowPulse {
            0% { box-shadow: 0 0 10px currentColor; }
            50% { box-shadow: 0 0 25px currentColor; }
            100% { box-shadow: 0 0 10px currentColor; }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* STRATEGY GLOWS */
        .card-container.nuclear { color: var(--nuclear-red); }
        .card-container.mill { color: var(--science-blue); }
        .card-container.mutate { color: var(--mutation-purple); }
        .card-container.rads { color: var(--pip-green); }
        .card-container.theft { color: white; }
        
        /* TYPE GLOWS */
        .card-container.type-Instant { color: var(--instant-cyan); }
        .card-container.type-Sorcery { color: var(--sorcery-orange); }
        .card-container.type-Enchantment { color: var(--enchant-gold); }
        .card-container.type-Creature { color: var(--pip-green); }
        .card-container.type-Artifact { color: #aaa; }

        /* APPLYING THE GLOW */
        .card-container .card-img {
            border-color: currentColor;
            animation: glowPulse 3s infinite;
        }

        /* SEPARATOR */
        .separator {
            width: 100%;
            border-bottom: 1px dashed var(--pip-green);
            opacity: 0.3;
            margin: 10px 0;
        }

    </style>
</head>
<body>

<header>
    <h1>The Wise Mothman</h1>
    <div class="subtitle">Tactical Display // V.2.0 // GLOW: ACTIVE</div>
</header>

<div class="controls">
    <button onclick="filterCards('nuclear')" class="btn-strat nuclear" id="btn-nuclear">The Nuclear Option</button>
    <button onclick="filterCards('mill')" class="btn-strat mill" id="btn-mill">Mill & Kill</button>
    <button onclick="filterCards('mutate')" class="btn-strat mutate" id="btn-mutate">Mutant Scale</button>
    <button onclick="filterCards('rads')" class="btn-strat rads" id="btn-rads">Rad Storm</button>
    <button onclick="filterCards('theft')" class="btn-strat theft" id="btn-theft">Theft & Control</button>
    
    <div class="separator"></div>
    
    <button onclick="filterByType('Instant')" class="btn-type instant" id="btn-Instant">Instants</button>
    <button onclick="filterByType('Sorcery')" class="btn-type sorcery" id="btn-Sorcery">Sorceries</button>
    <button onclick="filterByType('Enchantment')" class="btn-type enchant" id="btn-Enchantment">Enchantments</button>
    <button onclick="filterByType('Creature')" class="btn-type creature" id="btn-Creature">Creatures</button>
    <button onclick="filterByType('Artifact')" class="btn-type artifact" id="btn-Artifact">Artifacts</button>
    <button onclick="filterByType('All')" class="btn-type all active" id="btn-All">Show All</button>
</div>

<div class="desc-box" id="desc-box">
    <div class="desc-title">FULL DECK MANIFEST</div>
    <div id="desc-text">Select a Strategy or Card Type to visualize.</div>
</div>

<div class="grid" id="grid">
    </div>

<script>
    // DATA WITH TYPES
    const deckData = [
        // COMMANDER
        { name: "The Wise Mothman", type: "Creature", setCode: 'pip' },
        // CREATURES
        { name: "Bruvac the Grandiloquent", type: "Creature", setCode: 'jmp' },
        { name: "The Mindskinner", type: "Creature", setCode: 'dsk' },
        { name: "Fetid Gargantua", type: "Creature", setCode: 'one' },
        { name: "Expanding Ooze", type: "Creature", setCode: 'all' },
        { name: "Ultimecia, Time Sorceress", type: "Creature", setCode: 'acr' },
        { name: "Danny Pink", type: "Creature", setCode: 'who' },
        { name: "Zellix, Sanity Flayer", type: "Creature", setCode: 'clb' },
        { name: "Syr Konrad, the Grim", type: "Creature", setCode: 'eld' },
        { name: "Consuming Aberration", type: "Creature", setCode: 'gtc' },
        { name: "Eternal Witness", type: "Creature", setCode: '2x2', cn: '368' },
        { name: "Thrummingbird", type: "Creature", setCode: 'one', cn: '288' },
        { name: "Evolution Sage", type: "Creature", setCode: 'war' },
        { name: "Flux Channeler", type: "Creature", setCode: 'war' },
        { name: "Rishkar, Peema Renegade", type: "Creature", setCode: 'aer' },
        { name: "Bloatfly Swarm", type: "Creature", setCode: 'pip' },
        { name: "Corpsejack Menace", type: "Creature", setCode: 'pip' },
        { name: "Glowing One", type: "Creature", setCode: 'pip' },
        { name: "Harold and Bob, First Numens", type: "Creature", setCode: 'pip' },
        { name: "Lily Bowen, Raging Grandma", type: "Creature", setCode: 'pip' },
        { name: "Rampaging Yao Guai", type: "Creature", setCode: 'pip' },
        { name: "The Master, Transcendent", type: "Creature", setCode: 'pip' },
        { name: "Tireless Tracker", type: "Creature", setCode: 'pip' },
        { name: "Vexing Radgull", type: "Creature", setCode: 'pip' },
        { name: "Watchful Radstag", type: "Creature", setCode: 'pip' },
        { name: "Winding Constrictor", type: "Creature", setCode: 'pip' },
        // INSTANTS
        { name: "Maximum Overdrive", type: "Instant", setCode: 'pip' },
        { name: "Origin of Metalbending", type: "Instant", setCode: 'pip' },
        { name: "Brain Freeze", type: "Instant", setCode: 'slc', cn: '2' },
        { name: "Narset's Reversal", type: "Instant", setCode: 'war' },
        { name: "Golgari Charm", type: "Instant", setCode: 'rtr' },
        { name: "Biomass Mutation", type: "Instant", setCode: 'pip' },
        { name: "Inspiring Call", type: "Instant", setCode: 'pip' },
        { name: "Mutational Advantage", type: "Instant", setCode: 'pip' },
        { name: "Putrefy", type: "Instant", setCode: 'pip' },
        { name: "Radstorm", type: "Instant", setCode: 'pip' },
        // SORCERIES
        { name: "Grasping Tentacles", type: "Sorcery", setCode: 'mh3' },
        { name: "Nature's Lore", type: "Sorcery", setCode: 'afc', cn: '164' },
        { name: "Victimize", type: "Sorcery", setCode: 'ema' },
        { name: "Casualties of War", type: "Sorcery", setCode: 'pip' },
        { name: "Cultivate", type: "Sorcery", setCode: 'pip' },
        { name: "Farseek", type: "Sorcery", setCode: 'pip' },
        // ARTIFACTS
        { name: "Decanter of Endless Water", type: "Artifact", setCode: 'clb', cn: '444' },
        { name: "Mesmeric Orb", type: "Artifact", setCode: 'brr', cn: '31' },
        { name: "Codex Shredder", type: "Artifact", setCode: 'rtr' },
        { name: "Mindcrank", type: "Artifact", setCode: 'ima' },
        { name: "Arcane Signet", type: "Artifact", setCode: 'pip' },
        { name: "Contagion Clasp", type: "Artifact", setCode: 'som' },
        { name: "Power Fist", type: "Artifact", setCode: 'pip' },
        { name: "Recon Craft Theta", type: "Artifact", setCode: 'pip' },
        { name: "Sol Ring", type: "Artifact", setCode: 'pip' },
        { name: "Talisman of Curiosity", type: "Artifact", setCode: 'mh1' },
        { name: "Talisman of Dominance", type: "Artifact", setCode: 'mrd' },
        // ENCHANTMENTS
        { name: "Dictate of Erebos", type: "Enchantment", setCode: 'jou' },
        { name: "Bloodchief Ascension", type: "Enchantment", setCode: 'zen' },
        { name: "Fertile Ground", type: "Enchantment", setCode: 'afc' },
        { name: "Branching Evolution", type: "Enchantment", setCode: 'jmp' },
        { name: "Fraying Sanity", type: "Enchantment", setCode: 'hou' },
        { name: "Guardian Project", type: "Enchantment", setCode: 'rna' },
        { name: "Hardened Scales", type: "Enchantment", setCode: 'ktk' },
        { name: "Inexorable Tide", type: "Enchantment", setCode: 'som' },
        { name: "Struggle for Project Purity", type: "Enchantment", setCode: 'pip' }
    ];

    const strategies = {
        nuclear: { title: "THE NUCLEAR OPTION", desc: "Infinite Damage/Mill Loop. <br>Require: Bloodchief Ascension (3 counters) + Mindcrank.", cards: ["Bloodchief Ascension", "Mindcrank"] },
        mill: { title: "MILL & KILL", desc: "Multipliers & Mill Payoffs. <br>Bruvac doubles mill. Mindskinner converts damage to mill.", cards: ["Bruvac the Grandiloquent", "The Mindskinner", "Consuming Aberration", "Syr Konrad, the Grim", "Fraying Sanity", "Mesmeric Orb", "Brain Freeze", "The Wise Mothman"] },
        mutate: { title: "MUTANT SCALE", desc: "Counter Multipliers. <br>Enhance Mothman's triggers to create massive creatures.", cards: ["The Wise Mothman", "Hardened Scales", "Winding Constrictor", "Branching Evolution", "Corpsejack Menace", "Danny Pink", "Expanding Ooze", "Biomass Mutation"] },
        rads: { title: "RAD STORM", desc: "Radiation & Proliferate. <br>Stack Rad counters, then multiply them to force opponent mill/damage.", cards: ["The Wise Mothman", "Radstorm", "Inexorable Tide", "Evolution Sage", "Thrummingbird", "Flux Channeler", "Bloatfly Swarm", "Glowing One"] },
        theft: { title: "THEFT & CONTROL", desc: "Graveyard Theft. <br>Mill opponents, then animate their creatures.", cards: ["The Master, Transcendent", "Grasping Tentacles", "Victimize", "Codex Shredder", "Dictate of Erebos"] }
    };

    function getScryfallImage(card) {
        const baseUrl = "https://api.scryfall.com/cards";
        const encodedName = encodeURIComponent(card.name);
        if (card.setCode && card.cn) return `${baseUrl}/${card.setCode}/${card.cn}?format=image`;
        else if (card.setCode) return `${baseUrl}/named?exact=${encodedName}&set=${card.setCode}&format=image`;
        else return `${baseUrl}/named?exact=${encodedName}&format=image`;
    }

    function setActiveButton(id) {
        document.querySelectorAll('button').forEach(b => b.classList.remove('active'));
        const btn = document.getElementById(id);
        if(btn) btn.classList.add('active');
    }

    function renderCards(cards, className, title, desc) {
        const grid = document.getElementById('grid');
        document.querySelector('.desc-title').innerHTML = title;
        document.getElementById('desc-text').innerHTML = desc;
        grid.innerHTML = '';

        cards.forEach(card => {
            const el = document.createElement('div');
            // Check if we are in a strategy mode or type mode
            // If className is specific (like 'nuclear'), use it.
            // If className is generic (like 'type-mode'), append the card's specific type.
            
            let finalClass = className;
            if(className === 'type-mode') {
                finalClass = `type-${card.type}`;
            }

            el.className = `card-container ${finalClass}`;
            
            const img = document.createElement('div');
            img.className = 'card-img';
            img.style.backgroundImage = `url('${getScryfallImage(card)}')`;
            img.title = `${card.name} (${card.type})`;
            
            el.appendChild(img);
            grid.appendChild(el);
        });
    }

    function filterCards(key) {
        setActiveButton('btn-' + key);
        const strat = strategies[key];
        // Filter based on exact name matches for the combo
        const cards = [];
        strat.cards.forEach(name => {
            const found = deckData.find(d => d.name === name);
            if(found) cards.push(found);
        });
        renderCards(cards, key, strat.title, strat.desc);
    }

    function filterByType(type) {
        setActiveButton('btn-' + type);
        let cards = [];
        let title = "";
        let desc = "";

        if (type === 'All') {
            cards = deckData;
            title = "FULL DECK MANIFEST";
            desc = "Displaying all registered non-land assets.";
        } else {
            cards = deckData.filter(c => c.type === type);
            title = `${type.toUpperCase()}S`;
            desc = `Displaying all cards of type: ${type}`;
        }
        
        // Pass 'type-mode' to let the renderer color-code individually based on card type
        renderCards(cards, 'type-mode', title, desc);
    }

    // Init
    window.onload = function() {
        filterByType('All');
    };

</script>
</body>
</html>
