<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pocket Grocery Checklist</title>
<style>
  :root{
    --plate:#c5a669;
    --plate-dark:#8a6d3a;
    --engrave:#3b2e19;
    --indicator:#9a3b3b;
    --slot:#2b2113;
    --text:#1f1307;
  }

  body{
    margin:0;
    min-height:100vh;
    display:grid;
    place-items:center;
    background:#ede7db;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  }

  /* brass “plate” */
  .plate{
    width:min(920px,96vw);
    background:linear-gradient(175deg,#d6c08a 0%, #ba9a54 30%, #a9863e 60%, #d1b777 100%);
    border-radius:10px;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.35),
      inset 0 -25px 60px rgba(0,0,0,.25),
      0 10px 30px rgba(0,0,0,.35);
    border:2px solid #705628;
    padding:18px 16px 20px;
    position:relative;
  }

  .plate:before,.plate:after{
    content:"";
    position:absolute;
    width:14px;height:14px;border-radius:50%;
    background:radial-gradient(circle at 30% 30%,#e9e0c7 0 20%, #9b8146 35%, #2e230f 70%);
    box-shadow: inset 0 1px 1px rgba(255,255,255,.35);
    top:10px;
  }
  .plate:before{ left:calc(50% - 7px); }
  .plate:after{ bottom:12px; top:auto; left:calc(50% - 7px); }

  h1{
    margin:0 0 8px;
    text-align:center;
    font-size:18px;
    letter-spacing:.08em;
    color:var(--text);
    text-shadow:0 1px 0 rgba(255,255,255,.35);
  }

  .grid{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:10px 24px;
  }

  @media (max-width:680px){
    .grid{ grid-template-columns: 1fr; gap:8px 16px; }
  }

  /* each row item */
  .row{
    display:grid;
    grid-template-columns: 26px 1fr 26px;
    align-items:center;
    column-gap:10px;
    position:relative;
    padding:2px 0;
  }

  .label{
    font-weight:600;
    letter-spacing:.05em;
    color:var(--engrave);
    text-shadow:0 1px 0 rgba(255,255,255,.35);
    user-select:none;
  }

  /* slots (left/right) to mimic the pocket slider tracks */
  .slot{
    height:8px;
    background:linear-gradient(#000,#3a2b17 35%, #000);
    border-radius:3px;
    position:relative;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.85), inset 0 1px 0 rgba(255,255,255,.15);
  }

  /* the toggle “pointer” */
  .pointer{
    --w:22px; --h:10px;
    width:var(--w); height:var(--h);
    position:absolute; top:50%; transform:translateY(-50%);
    left:-2px; /* start at left (OFF) */
    background:
      linear-gradient(180deg,#c66 0,#a44 60%,#6c2c2c 100%);
    clip-path: polygon(0 50%, 60% 0, 100% 0, 100% 100%, 60% 100%);
    border:1px solid #4e2020;
    border-right-color:#2b0f0f;
    box-shadow:0 1px 0 rgba(255,255,255,.25) inset, 0 2px 2px rgba(0,0,0,.25);
    transition:left .18s ease-out;
    pointer-events:none;
  }

  .slot.right .pointer{ left:calc(100% - var(--w) + 2px); }

  /* hit area */
  .knob{
    position:absolute; inset:-8px -8px;
    cursor:pointer;
  }

  /* small “slot” on both sides to match the artifact */
  .row .slot.left{ grid-column:1; }
  .row .label{ grid-column:2; }
  .row .slot.right{ grid-column:3; }

  /* controls */
  .toolbar{
    display:flex; gap:8px; flex-wrap:wrap; justify-content:center;
    margin:10px 0 2px;
  }

  button, .ghost{
    appearance:none;
    border:1px solid #594319;
    background:linear-gradient(#f2e6c8,#d7bf82);
    color:#2a1d0b;
    font-weight:700; letter-spacing:.03em;
    padding:8px 12px; border-radius:6px; cursor:pointer;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.55), 0 2px 0 rgba(0,0,0,.25);
  }
  button:active{ transform:translateY(1px); box-shadow:inset 0 2px 0 rgba(0,0,0,.15); }
  .ghost{
    background:transparent; border-style:dashed;
  }

  /* selected list modal */
  dialog{
    border:none; border-radius:10px; padding:0; overflow:hidden;
    box-shadow:0 20px 50px rgba(0,0,0,.4);
    width:min(560px,90vw);
  }
  .dlg-head{
    background:#2b2113; color:#f7f1e3; padding:10px 14px; font-weight:800;
  }
  .dlg-body{ padding:14px; background:#fff; color:#111; }
  .close{
    float:right; background:#eee; border:0; padding:6px 10px; border-radius:6px; cursor:pointer;
    margin-left:10px;
  }

  /* print */
  @media print{
    .toolbar, dialog{ display:none !important; }
    body{ background:white; }
    .plate{ box-shadow:none; border:1px solid #000; }
  }
</style>
</head>
<body>
  <main class="plate" id="plate">
    <h1>POCKET GROCERY CHECKLIST</h1>

    <section class="grid" id="list"></section>

    <div class="toolbar">
      <button id="showSelected">Show Selected</button>
      <button id="copySelected">Copy Selected</button>
      <button id="clearAll" class="ghost">Clear All</button>
    </div>
  </main>

  <dialog id="dlg">
    <div class="dlg-head">Selected Items
      <button class="close" onclick="dlg.close()">Close</button>
    </div>
    <div class="dlg-body">
      <div id="selectedText" style="white-space:pre-wrap; font:14px/1.45 ui-sans-serif,system-ui"></div>
    </div>
  </dialog>

<script>
(() => {
  const LEFT = 0, RIGHT = 1; // OFF/ON
  const COL_A = [
    "Baby Food","Bacon","Bread","Butter","Cake","Catsup","Cereal","Cheese","Cocoa",
    "Cookies","Coffee","Cream","Delicatessen","Eggs","Fish","Flour","Frozen Food",
    "Fruit","Jams","Juices"
  ];
  const COL_B = [
    "Matches","Meats","Milk","Mustard","Noodles","Oil","Onions","Pepper","Poultry",
    "Potatoes","Rice","Salt","Soap","Soups","Spaghetti","Spices","Sugar","Tea",
    "Vegetable","Vinegar"
  ];
  const ITEMS = [...COL_A.map(x=>({name:x,col:"A"})), ...COL_B.map(x=>({name:x,col:"B"}))];

  const $ = (sel, el=document) => el.querySelector(sel);
  const $$ = (sel, el=document) => [...el.querySelectorAll(sel)];

  const list = $("#list");
  const key = "pocket-grocery-v1";
  const state = loadState();

  // build rows (column order A left / B right like the card)
  function build(){
    const frag = document.createDocumentFragment();
    // interleave so rows line up visually like the plate
    const maxRows = Math.max(COL_A.length, COL_B.length);
    for(let i=0;i<maxRows;i++){
      if(COL_A[i]) frag.appendChild(makeRow(COL_A[i]));
      if(COL_B[i]) frag.appendChild(makeRow(COL_B[i]));
    }
    list.appendChild(frag);
  }

  function makeRow(name){
    const row = document.createElement("div");
    row.className = "row";
    row.dataset.item = name;

    // left slot
    const left = document.createElement("div");
    left.className = "slot left";
    const p1 = document.createElement("div");
    p1.className = "pointer";
    left.appendChild(p1);

    // word label
    const label = document.createElement("div");
    label.className = "label";
    label.textContent = name.toUpperCase();

    // right slot
    const right = document.createElement("div");
    right.className = "slot right";
    const p2 = document.createElement("div");
    p2.className = "pointer";
    right.appendChild(p2);

    // large hit area to toggle
    const knob = document.createElement("button");
    knob.className = "knob";
    knob.setAttribute("aria-label", `toggle ${name}`);
    knob.title = `Toggle ${name}`;

    knob.addEventListener("click", () => toggle(row.dataset.item));
    knob.addEventListener("keydown", (e) => {
      if(e.key === "ArrowLeft") set(row.dataset.item, LEFT);
      if(e.key === "ArrowRight") set(row.dataset.item, RIGHT);
    });

    row.append(left,label,right,knob);
    if(state[name] === RIGHT) row.classList.add("on");
    applyPointer(row);

    return row;
  }

  function applyPointer(row){
    const on = (state[row.dataset.item] ?? LEFT) === RIGHT;
    row.querySelector(".slot.left .pointer").style.left = on ? "-9999px" : "-2px";
    row.querySelector(".slot.right .pointer").style.left = on ? "calc(100% - 22px + 2px)" : "9999px";
    row.setAttribute("aria-checked", on ? "true":"false");
  }

  function toggle(name){
    state[name] = (state[name] === RIGHT ? LEFT : RIGHT);
    saveState();
    const row = findRow(name);
    applyPointer(row);
  }
  function set(name, val){
    state[name] = val;
    saveState();
    applyPointer(findRow(name));
  }
  function findRow(name){ return $(`.row[data-item="${CSS.escape(name)}"]`, list); }

  function saveState(){ localStorage.setItem(key, JSON.stringify(state)); }
  function loadState(){
    try { return JSON.parse(localStorage.getItem(key)) ?? {}; }
    catch(e){ return {}; }
  }

  function selectedItems(){
    return ITEMS.filter(x => state[x.name] === RIGHT).map(x => x.name);
  }

  // UI actions
  $("#clearAll").addEventListener("click", () => {
    ITEMS.forEach(x => state[x.name] = LEFT);
    saveState(); $$(".row", list).forEach(applyPointer);
  });

  const dlg = $("#dlg");
  $("#showSelected").addEventListener("click", () => {
    const sel = selectedItems();
    $("#selectedText").textContent = sel.length ? "• " + sel.join("\n• ") : "Nothing selected.";
    dlg.showModal();
  });

  $("#copySelected").addEventListener("click", async () => {
    const text = selectedItems().join(", ");
    try{
      await navigator.clipboard.writeText(text);
      flash("Copied list to clipboard.");
    }catch{
      flash("Clipboard blocked. Open “Show Selected” and copy manually.");
    }
  });

  function flash(msg){
    const b = document.createElement("div");
    b.textContent = msg;
    Object.assign(b.style,{
      position:"fixed",left:"50%",top:"18px",transform:"translateX(-50%)",
      background:"#2b2113",color:"#f7f1e3",padding:"8px 12px",
      borderRadius:"8px",fontWeight:"700",zIndex:9999
    });
    document.body.appendChild(b);
    setTimeout(()=>b.remove(),1600);
  }

  build();
})();
</script>
</body>
</html>