<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#3e5875">
<!-- Optional: Home screen icons -->
<link rel="apple-touch-icon" href="icons/icon-192.png">
  <title>ðŸ§¹ Cleaning Checklist</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Impact:wght@700&display=swap');
    :root {
      --card-width: 400px;
      --card-height: 530px;
      --text-panel-height: 110px;
    }
    body {
      background-image: url('YOUR-TILE.png');
      background-repeat: repeat;
      /* background-size: auto; */
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .slideshow-container {
      width: 100%;
      max-width: var(--card-width);
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 6px 36px rgba(30,45,60,0.14);
      padding: 2em 1.2em 1.7em 1.2em;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 640px;
      transition: max-width 0.2s;
    }
    /* Splash screen styles */
    #splash-screen {
      position: fixed;
      z-index: 99999;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(255,255,255,0.96);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: opacity 0.45s;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
    }
    #splash-title {
      font-size: 2.6em;
      letter-spacing: 1.6px;
      color: #3e5875;
      text-shadow: -2px -2px 0 #fff, 2px -2px 0 #fff, -2px 2px 0 #fff, 2px 2px 0 #fff, 0 0 20px #b5c8e1;
      text-transform: uppercase;
      text-align: center;
      padding: 0.7em 1em;
      border-radius: 18px;
      background: rgba(220,230,245,0.25);
      box-shadow: 0 2px 24px rgba(80,120,200,0.11);
    }
    #splash-screen.hide {
      opacity: 0;
      pointer-events: none;
    }
    .slide-count {
      font-size: 1.01em;
      font-weight: 700;
      color: #7d8692;
      margin-bottom: 1em;
      letter-spacing: 0.06em;
    }
    .slide-card {
      width: var(--card-width);
      height: var(--card-height);
      background: #e7eaf1;
      border-radius: 14px;
      margin-bottom: 1.3em;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: hidden;
      position: relative;
      box-sizing: border-box;
      justify-content: flex-start;
    }
    .slide-card img {
      width: 100%;
      height: auto;
      object-fit: contain;
      object-position: center;
      background: #f7f8fa;
      display: block;
      flex-shrink: 0;
      border-top-left-radius: 14px;
      border-top-right-radius: 14px;
    }
    .slide-image-text-overlay {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      padding: 0.7em 0.5em 0.8em 0.5em;
      box-sizing: border-box;
      text-align: center;
      z-index: 3;
      border-bottom-left-radius: 14px;
      border-bottom-right-radius: 14px;
      pointer-events: none;
      display: flex;
      justify-content: center;
      align-items: flex-end;
    }
    .slide-image-text-overlay span {
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-size: 1.6em;
      font-weight: 700;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 1px;
      line-height: 1.22;
      display: inline-block;
      text-shadow:
        -2px -2px 0 #000,  
         2px -2px 0 #000,
        -2px  2px 0 #000,
         2px  2px 0 #000,
        0px -2px 0 #000,
        0px  2px 0 #000,
        -2px  0px 0 #000,
         2px  0px 0 #000;
      padding: 0;
      margin: 0;
      word-break: break-word;
      width: 100%;
      box-sizing: border-box;
    }
    .slide-text-panel {
      width: 100%;
      min-height: var(--text-panel-height);
      height: var(--text-panel-height);
      display: flex;
      align-items: center;
      justify-content: center;
      background: #e7eaf1;
      border-bottom-left-radius: 14px;
      border-bottom-right-radius: 14px;
      padding: 0.8em 1.1em;
      box-sizing: border-box;
    }
    .slide-text-inner {
      font-size: 1.3em;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      color: #222;
      text-align: center;
      line-height: 1.28;
      white-space: pre-line;
      word-break: break-word;
      width: 100%;
      flex-shrink: 0;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .slide-flashcard {
      width: 100%;
      height: calc(var(--card-height));
      display: flex;
      align-items: center;
      justify-content: center;
      background-image: url('YOUR-TILE.png');
      background-repeat: repeat;
      border-radius: 14px;
      box-sizing: border-box;
      position: relative;
    }
    .slide-flashcard-text {
      font-size: 1.3em;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      color: #222;
      text-align: center;
      line-height: 1.28;
      white-space: pre-line;
      word-break: break-word;
      width: 96%;
      margin: auto;
      padding: 0.5em 0;
      display: flex;
      align-items: center;
      justify-content: center;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .slide-checkbox-row {
      display: flex;
      align-items: center;
      gap: 0.7em;
      margin-bottom: 1.8em;
      justify-content: center;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
    }
    .slide-checkbox {
      width: 2.3em;
      height: 2.3em;
      accent-color: #5dbe60;
      transform: scale(1.15);
      border-radius: 0.42em;
      box-shadow: 0 1px 5px rgba(80,90,100,0.08);
      cursor: pointer;
    }
    .slide-checkbox-label {
      font-size: 1.13em;
      font-weight: 700;
      color: #4b575e;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .slide-nav-row {
      display: flex;
      width: 100%;
      justify-content: space-between;
      gap: 1em;
    }
    .slide-nav-btn {
      flex: 1;
      background: #43596c;
      color: #fff;
      border: none;
      border-radius: 9px;
      font-size: 1.18em;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      padding: 0.85em 0.4em;
      margin: 0;
      cursor: pointer;
      transition: background 0.12s;
      box-shadow: 0 1px 4px rgba(40,60,90,0.12);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .slide-nav-btn:disabled {
      background: #a8b2c2;
      color: #e8e9ee;
      cursor: default;
      opacity: 0.7;
    }
    .toggle-list-btn {
      background: #fff;
      color: #43596c;
      border: 2px solid #43596c;
      border-radius: 9px;
      font-size: 1.09em;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      padding: 0.6em 1em;
      cursor: pointer;
      margin-bottom: 1.1em;
      margin-top: -1em;
      transition: background 0.11s, color 0.11s;
      align-self: flex-end;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .toggle-list-btn:hover {
      background: #43596c;
      color: #fff;
    }
    .all-grid {
      width: 100%;
      display: grid;
      gap: 1.3em;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      margin-top: 0.5em;
      margin-bottom: 0.4em;
      align-items: stretch;
      justify-items: center;
    }
    .grid-card {
      background: #f2f6fb;
      border-radius: 11px;
      box-shadow: 0 1px 8px rgba(70,90,120,0.09);
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      min-height: var(--card-height);
      height: var(--card-height);
      width: var(--card-width);
      max-width: var(--card-width);
      margin: auto;
      box-sizing: border-box;
      overflow: hidden;
      justify-content: flex-start;
    }
    .grid-card img {
      width: 100%;
      height: auto;
      object-fit: contain;
      display: block;
      background: #e5e8f0;
    }
    .grid-image-text-overlay {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      padding: 0.55em 0.5em 0.66em 0.5em;
      box-sizing: border-box;
      text-align: center;
      z-index: 3;
      border-bottom-left-radius: 11px;
      border-bottom-right-radius: 11px;
      pointer-events: none;
      display: flex;
      justify-content: center;
      align-items: flex-end;
    }
    .grid-image-text-overlay span {
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-size: 1.22em;
      font-weight: 700;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 1px;
      line-height: 1.20;
      display: inline-block;
      text-shadow:
        -2px -2px 0 #000,  
         2px -2px 0 #000,
        -2px  2px 0 #000,
         2px  2px 0 #000,
        0px -2px 0 #000,
        0px  2px 0 #000,
        -2px  0px 0 #000,
         2px  0px 0 #000;
      padding: 0;
      margin: 0;
      word-break: break-word;
      width: 100%;
      box-sizing: border-box;
    }
    .grid-card-text-wrap {
      width: 100%;
      min-height: var(--text-panel-height);
      height: var(--text-panel-height);
      display: flex;
      align-items: center;
      justify-content: center;
      background: #e7eaf1;
      border-bottom-left-radius: 11px;
      border-bottom-right-radius: 11px;
      padding: 0.8em 1em;
      box-sizing: border-box;
    }
    .grid-card-text {
      font-size: 1.1em;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      color: #26374c;
      word-break: break-word;
      line-height: 1.25;
      width: 100%;
      text-align: center;
      margin-bottom: 0;
      margin-top: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .grid-flashcard {
      width: 100%;
      height: var(--card-height);
      background-image: url('YOUR-TILE.png');
      background-repeat: repeat;
      border-radius: 11px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      position: relative;
    }
    .grid-flashcard-text {
      font-size: 1.1em;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      color: #222;
      text-align: center;
      width: 90%;
      white-space: pre-line;
      word-break: break-word;
      margin: 0;
      padding: 0.5em 0;
      display: flex;
      align-items: center;
      justify-content: center;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .grid-checkbox {
      position: absolute;
      bottom: 12px;
      right: 18px;
      width: 1.7em;
      height: 1.7em;
      accent-color: #5dbe60;
      border-radius: 7px;
      background: #fff;
      box-shadow: 0 1px 3px rgba(70,90,120,0.09);
    }
    .grid-incomplete {
      background: #fffbe7;
      border: 2px solid #ffd369;
    }
    .warning {
      color: #d02c3a;
      background: #ffeaea;
      border: 1.5px solid #f99;
      font-family: Impact, 'Arial Black', Arial, sans-serif;
      font-weight: 700;
      padding: 1em 0.7em;
      border-radius: 10px;
      margin-bottom: 1.2em;
      text-align: left;
      font-size: 1.1em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    @media (max-width: 480px) {
      :root { --card-width: 99vw; --card-height: 74vw; --text-panel-height: 32vw;}
      .slideshow-container { padding: 1em 0.3em 1.1em 0.3em;}
      .slide-card, .grid-card { width: 99vw; min-width: 0; max-width: 99vw;}
      .slide-flashcard, .grid-flashcard { min-height: unset; height: var(--card-height);}
    }
  </style>
  <script>
    const tasks = [
      { title: "Get trash bags & can liners from closet", image: "" },
      { title: "Get any cardboard or trash in room", image: "1emptybin.png" },
      { title: "Get rolling cart", image: "" },
      { title: "Empty bin behind reception desk", image: "2binbehind.png" },
      { title: "Empty trash bin & recycling bin in main staff kitchen", image: "3trashbinandrecycle.png" },
      { title: "Empty bin in bathroom of master office", image: "4bininbathroom.png" },
      { title: "Trash bins in all offices", image: "" },
      { title: "Empty trash bins in cubicles", image: "5trashbinsincubicles.png" },
      { title: "Empty cubicle copy room trash (no bag)", image: "6cubiclecopy.png" },
      { title: "Empty bins in cafeteria room and secondary kitchen", image: "7binsincafe.png" },
      { title: "Empty trash in bathrooms", image: "8trashinbath.png" },
      { title: "Check feminine boxes in bathrooms", image: "" },
      { title: "Bring trash down elevator", image: "" },
      { title: "Can leave rubber foot in door to keep it open", image: "9bringtrashdpwnelevatpr.png" },
      { title: "After dumping trash, make sure to close door behind you if it was closed", image: "10makesuredoor.png" },
      { title: "Re-lock bottom of other entrance door", image: "11relockbottom.png" },
      { title: "Wipe couches & table with microfiber (as needed)", image: "12wipecouches.png" },
      { title: "Get purple vacuum from hall closet", image: "13getpurplevacuum.png" },
      { title: "Vacuum entrance mat", image: "14vacuum.png" },
      { title: "Vacuum carpet under glass table", image: "15carpetunderglass.png" },
      { title: "Vacuum (as needed) & then mop: Entrance area", image: "" },
      { title: "Vacuum (as needed) & then mop: Behind reception desk", image: "15vacuumthenmop.png" },
      { title: "Vacuum (as needed) & then mop: Marble hallways", image: "16marblehallways.png" },
      { title: "Vacuum (as needed) & then mop: Main staff kitchen", image: "17mainstaffkitchen.png" },
      { title: "Clean bathroom in master office", image: "18cleanbathroom.png" },
      { title: "Clean main bathrooms\nSinks, faucet, mirror, etc.", image: "" },
      { title: "Check toilet paper, make sure second roll is there", image: "19checktoilet.png" },
      { title: "Check if paper towels need refilling (top comes off, spring mechanism)", image: "20checkifpaper.png" },
      { title: "Use Clorox in toilets", image: "" },
      { title: "Clean urinal", image: "" },
      { title: "Spray a little Fabuloso in each toilet", image: "" },
      { title: "Clean smudges on both sets of glass doors (main entrance + hallway entrance doors)", image: "21clrsnsmudges.png" },
      { title: "Make sure light switches on both sides are all turned off", image: "22lightswitches.png" },
      { title: "Make sure:\nâ€¢ Vacuum is put back in closet\nâ€¢ Bathroom key is back in supply closet\nâ€¢ Door to hallway is closed\nâ€¢ Main light switch for entrance area is off\nâ€¢ Garage door was closed after trash \n(if we opened it)", image: "" }
    ];

    let current = 0;
    let checked = Array(tasks.length).fill(false);
    let mode = "slide";
    let incompleteList = [];

    function confettiBlast() {
      let canvas = document.getElementById('confetti-canvas');
      if (!canvas) {
        canvas = document.createElement('canvas');
        canvas.id = 'confetti-canvas';
        canvas.style.position = 'fixed';
        canvas.style.left = '0';
        canvas.style.top = '0';
        canvas.style.width = '100vw';
        canvas.style.height = '100vh';
        canvas.style.pointerEvents = 'none';
        canvas.style.zIndex = '100000';
        document.body.appendChild(canvas);
      }
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      let ctx = canvas.getContext('2d');
      let bursts = [];
      let colors = ['#E57373','#F06292','#BA68C8','#64B5F6','#4DD0E1','#4DB6AC','#81C784','#FFD54F','#FFB74D','#A1887F'];
      for (let i = 0; i < 8 + Math.floor(Math.random()*5); i++) {
        let centerX = Math.random()*canvas.width*0.8 + canvas.width*0.1;
        let centerY = Math.random()*canvas.height*0.6 + canvas.height*0.1;
        let num = 25 + Math.floor(Math.random()*10);
        let burst = [];
        let baseColor = colors[Math.floor(Math.random()*colors.length)];
        for (let j = 0; j < num; j++) {
          let angle = (2*Math.PI/num)*j + Math.random()*0.2;
          let speed = 2.3 + Math.random()*2.8;
          burst.push({
            x: centerX, y: centerY,
            vx: Math.cos(angle)*speed,
            vy: Math.sin(angle)*speed,
            r: 6 + Math.random()*8,
            alpha: 1,
            color: baseColor,
            life: 50 + Math.random()*22
          });
        }
        bursts.push(burst);
      }
      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let burst of bursts) {
          for (let c of burst) {
            ctx.save();
            ctx.globalAlpha = c.alpha;
            ctx.beginPath();
            ctx.arc(c.x, c.y, c.r, 0, Math.PI*2, false);
            ctx.fillStyle = c.color;
            ctx.shadowColor = c.color;
            ctx.shadowBlur = 12;
            ctx.fill();
            ctx.restore();
          }
        }
      }
      function update() {
        for (let burst of bursts) {
          for (let c of burst) {
            c.x += c.vx;
            c.y += c.vy;
            c.vy += 0.12;
            c.alpha -= 0.015 + Math.random()*0.005;
            c.r *= 0.97;
            c.life--;
          }
        }
        bursts = bursts.filter(b => b.some(c => c.alpha > 0.05 && c.life > 0));
      }
      let frames = 0;
      function animate() {
        draw();
        update();
        frames++;
        if (bursts.length && frames < 180) {
          requestAnimationFrame(animate);
        } else {
          canvas.remove();
        }
      }
      animate();
    }

    function renderSlide() {
      const container = document.getElementById('slide-view');
      container.innerHTML = "";

      // Toggle to grid
      const toggleBtn = document.createElement('button');
      toggleBtn.className = 'toggle-list-btn';
      toggleBtn.innerText = "View All Steps";
      toggleBtn.onclick = () => { mode = "grid"; renderGrid(); };
      container.appendChild(toggleBtn);

      // Slide count
      const count = document.createElement('div');
      count.className = 'slide-count';
      count.textContent = `Step ${current + 1} of ${tasks.length}`;
      container.appendChild(count);

      // Card
      const card = document.createElement('div');
      card.className = 'slide-card';

      if (tasks[current].image) {
        const img = document.createElement('img');
        img.src = tasks[current].image;
        img.alt = 'Task photo';
        card.appendChild(img);

        // Overlay text with meme outline only
        const overlay = document.createElement('div');
        overlay.className = 'slide-image-text-overlay';
        const overlayText = document.createElement('span');
        overlayText.textContent = tasks[current].title;
        overlay.appendChild(overlayText);
        card.appendChild(overlay);
      } else {
        const flash = document.createElement('div');
        flash.className = 'slide-flashcard';
        const flashText = document.createElement('div');
        flashText.className = 'slide-flashcard-text';
        flashText.textContent = tasks[current].title;
        flash.appendChild(flashText);
        card.appendChild(flash);
      }
      container.appendChild(card);

      // Checkbox row
      const checkRow = document.createElement('div');
      checkRow.className = 'slide-checkbox-row';
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.className = 'slide-checkbox';
      checkbox.id = 'slide-checkbox';
      checkbox.checked = checked[current];
      checkbox.addEventListener('change', () => {
        checked[current] = checkbox.checked;
        if (checkbox.checked && current < tasks.length - 1) {
          current++;
          renderSlide();
        }
      });
      const label = document.createElement('label');
      label.setAttribute('for', 'slide-checkbox');
      label.className = 'slide-checkbox-label';
      label.textContent = "Mark as done";
      checkRow.appendChild(checkbox);
      checkRow.appendChild(label);
      container.appendChild(checkRow);

      // Nav row
      const nav = document.createElement('div');
      nav.className = 'slide-nav-row';

      const backBtn = document.createElement('button');
      backBtn.className = 'slide-nav-btn';
      backBtn.innerText = 'Back';
      backBtn.disabled = current === 0;
      backBtn.onclick = () => {
        if (current > 0) {
          checked[current] = checkbox.checked;
          current--;
          renderSlide();
        }
      };

      const nextBtn = document.createElement('button');
      nextBtn.className = 'slide-nav-btn';
      nextBtn.innerText = current === tasks.length - 1 ? 'Finish' : 'Next';
      nextBtn.onclick = () => {
        checked[current] = checkbox.checked;
        if (current < tasks.length - 1) {
          current++;
          renderSlide();
        } else {
          incompleteList = tasks.map((task, idx) => ({title: task.title, idx})).filter((_,i) => !checked[i]);
          if (incompleteList.length > 0) {
            container.innerHTML = `
              <div class="warning">
                <b>You still have incomplete steps:</b>
                <ul style="padding-left:1.2em;margin-top:0.6em;">
                  ${incompleteList.map(t=>`<li>${t.title.replace(/\n/g,"<br>")}</li>`).join("")}
                </ul>
              </div>
            `;
            setTimeout(()=>{
              current = incompleteList[0].idx;
              renderSlide();
            }, 2700);
          } else {
            container.innerHTML = `<div style="padding:2em 1em; text-align:center;">
              <h2 style="color:#33b05a; font-size:2em; margin-bottom:1em;">All Steps Complete!</h2>
              <p style="font-size:1.2em; color:#465060; margin-bottom:2em;">You finished all tasks.</p>
              <button onclick="current=0; checked=Array(tasks.length).fill(false); renderSlide();" style="background:#425a7b; color:#fff; border:none; font-size:1.06em; border-radius:8px; padding:0.8em 1.3em; cursor:pointer;">Restart</button>
            </div>`;
            confettiBlast();
          }
        }
      };
      nav.appendChild(backBtn);
      nav.appendChild(nextBtn);
      container.appendChild(nav);
    }

    function renderGrid() {
      const container = document.getElementById('slide-view');
      container.innerHTML = "";

      const toggleBtn = document.createElement('button');
      toggleBtn.className = 'toggle-list-btn';
      toggleBtn.innerText = "Back to Checklist";
      toggleBtn.onclick = () => { mode = "slide"; renderSlide(); };
      container.appendChild(toggleBtn);

      const gridDiv = document.createElement('div');
      gridDiv.className = 'all-grid';

      tasks.forEach((task, idx) => {
        let card;
        if (task.image) {
          card = document.createElement('div');
          card.className = 'grid-card' + (checked[idx] ? "" : " grid-incomplete");

          const img = document.createElement('img');
          img.src = task.image;
          img.alt = 'Task photo';
          card.appendChild(img);

          // Overlay text with meme outline only
          const overlay = document.createElement('div');
          overlay.className = 'grid-image-text-overlay';
          const overlayText = document.createElement('span');
          overlayText.textContent = task.title;
          overlay.appendChild(overlayText);
          card.appendChild(overlay);
        } else {
          card = document.createElement('div');
          card.className = 'grid-flashcard' + (checked[idx] ? "" : " grid-incomplete");

          const txt = document.createElement('div');
          txt.className = 'grid-flashcard-text';
          txt.textContent = task.title;
          card.appendChild(txt);
        }

        const cb = document.createElement('input');
        cb.type = 'checkbox';
        cb.className = 'grid-checkbox';
        cb.checked = checked[idx];
        cb.addEventListener('change', () => {
          checked[idx] = cb.checked;
          if (cb.checked && mode === "grid") {
            const next = tasks.findIndex((t,i) => !checked[i]);
            if (next !== -1) {
              document.querySelectorAll('.grid-card, .grid-flashcard')[next].scrollIntoView({behavior:'smooth', block:'center'});
            }
          }
        });
        card.appendChild(cb);

        card.style.cursor = "pointer";
        card.onclick = (e) => {
          if(e.target!==cb){
            current = idx;
            mode = "slide";
            renderSlide();
          }
        };
        gridDiv.appendChild(card);
      });

      container.appendChild(gridDiv);
    }

    // SPLASH LOGIC
    window.addEventListener('DOMContentLoaded', () => {
      // Show splash
      const splash = document.getElementById('splash-screen');
      setTimeout(() => {
        splash.classList.add('hide');
        setTimeout(() => {
          splash.style.display = 'none';
        }, 500);
      }, 2000); // splash visible for 1.3s

      if (mode === "slide") renderSlide();
      else renderGrid();
    });
    window.addEventListener('resize', () => {
      if (mode === "slide") renderSlide();
      else renderGrid();
    });
  </script>
</head>
<body>
  <div id="splash-screen">
    <div id="splash-title">Cleaning Checklist</div>
  </div>
  <div class="slideshow-container">
    <div id="slide-view"></div>
  </div>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('sw.js').then(
          reg => console.log('ServiceWorker registration successful:', reg),
          err => console.warn('ServiceWorker registration failed:', err)
        );
      });
    }
  </script>
</body>
</html>