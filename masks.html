<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ðŸ‘º Fasnacht Mask Checklist</title>
  <style>
    /* Dark Theme Base */
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.5;
      background: #222;
      color: #ddd;
    }
    h1 { 
      text-align: center; 
      margin-bottom: 20px;
      color: #fff;
    }
    /* Controls for filtering and sorting */
    #controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    #filterButtons, #sortOptions {
      display: flex;
      gap: 5px;
    }
    .filter-button, .toggle-button {
      padding: 5px 10px;
      font-size: 14px;
      cursor: pointer;
      background: #555;
      color: #fff;
      border: none;
      border-radius: 5px;
      transition: background 0.3s ease;
    }
    .filter-button.active {
      background: #39FF14;
      color: #222;
    }
    /* Glowing Text Effect */
    .glowing {
      color: #39FF14;
      text-shadow: 0 0 5px #39FF14, 0 0 10px #39FF14;
    }
    .mask-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .mask-item {
      width: 150px;
      text-align: center;
      border: 1px solid #444;
      padding: 10px;
      border-radius: 5px;
      background: #333;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .mask-item.obtained {
      border-color: #39FF14;
    }
    .mask-item:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
    }
    .mask-item img {
      max-width: 100%;
      height: 100px;
      object-fit: contain;
      display: block;
      margin: 0 auto 10px;
      border-radius: 3px;
    }
    /* Mask title with reserved space for three lines and vertical centering */
    .mask-item label {
      display: flex;
      height: 3.6em; /* Reserve space for three lines */
      align-items: center;
      justify-content: center;
      text-align: center;
      margin-bottom: 5px;
      font-weight: bold;
      pointer-events: none;
      color: #ddd;
    }
    /* Toggle Button Styles */
    .toggle-button {
      margin-top: 5px;
      padding: 5px 10px;
      font-size: 14px;
      cursor: pointer;
      background: #555;
      color: #fff;
      border: none;
      border-radius: 5px;
      transition: background 0.3s ease;
    }
    .toggle-button.active {
      background: #39FF14;
      color: #222;
    }
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.85);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      max-width: 90%;
      max-height: 90%;
      border-radius: 5px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.8);
    }
    .modal-close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 40px;
      color: #fff;
      cursor: pointer;
      z-index: 101;
    }
    /* Copy Button Styles */
    #copyButton {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background: #555;
      color: #fff;
      border: none;
      border-radius: 5px;
    }
    #copyButton:hover {
      background: #777;
    }
    /* Mobile Friendly Styles */
    @media (max-width: 600px) {
      .mask-item {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>Fasnacht Mask Checklist</h1>
  
  <div id="controls">
    <div id="filterButtons">
      <button class="filter-button active" data-filter="all">All</button>
      <button class="filter-button" data-filter="glowing">Glowing</button>
      <button class="filter-button" data-filter="rare">Rare</button>
      <button class="filter-button" data-filter="uncommon">Uncommon</button>
      <button class="filter-button" data-filter="common">Common</button>
    </div>
    <div id="sortOptions">
      <label for="sortSelect">Sort by: </label>
      <select id="sortSelect">
        <option value="name">Name</option>
        <option value="year">Year</option>
        <option value="dropRate">Drop Rate</option>
      </select>
    </div>
  </div>
  
  <div class="mask-list" id="maskList">
    <!-- Masks will be dynamically inserted here -->
  </div>
  
  <button id="copyButton">Copy Lists</button>

  <!-- Modal for enlarged image -->
  <div id="modal" class="modal">
    <span id="modalClose" class="modal-close">&times;</span>
    <img id="modalImg" class="modal-content" src="" alt="">
  </div>

  <script>
    // Helper function to remove "Fallout 76" and "in Fo76" from titles
    function formatMaskTitle(title) {
      return title
        .replace(/Fallout\s*76/ig, '')
        .replace(/in\s*Fo76/ig, '')
        .trim();
    }

    const maskData = [
  {
    "name": "Fasnacht Alien Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-alien-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Beret",
    "url": "https://images.fallout.wiki/thumb/4/47/FO76_fasnacht_beret.png/155px-FO76_fasnacht_beret.png",
    "year": 2019,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Big Foot Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/big.png",
    "year": 2025,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Blue Devil Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-blue-devil-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Brahmin Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-brahmin-mask.webp",
    "year": 2021,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Buffoon Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-buffoon-mask.webp",
    "year": 2021,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Crazy Guy Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-crazy-guy-mask.webp",
    "year": 2020,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Deathclaw Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-deathclaw-mask.webp",
    "year": 2020,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Demon Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-demon-mask.webp",
    "year": 2020,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Fiend Mask",
    "url": "https://images.fallout.wiki/thumb/e/ea/FO76_headwear_fasnacht_fiend.png/600px-FO76_headwear_fasnacht_fiend.png",
    "year": 2022,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Giant Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-giant-mask.webp",
    "year": 2019,
    "rarity": "common",
    "dropRate": 20.0
  },
  {
    "name": "Fasnacht Goblin Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-goblin-mask.webp",
    "year": 2019,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Glowing Abe Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/abeglow.png",
    "year": 2025,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Alien Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-alien-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Big Foot Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/bigglow.png",
    "year": 2025,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Blue Devil Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-blue-devil-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Honey Bee Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-honey-bee-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Jackalope Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/jackglow.png",
    "year": 2025,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Minotaur Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-minotaur-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Pig Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-pig-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Robot Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-robot-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Scorchbeast Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-scorchbeast-mask-.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Scorchbeast Queen Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-scorchbeast-queen-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Turkey Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-turkey-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Unicorn Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-glowing-unicorn-mask.webp",
    "year": 2024,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Glowing Veggie Man Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/vegglow.png",
    "year": 2025,
    "rarity": "glowing",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Hag Mask",
    "url": "https://images.fallout.wiki/b/b0/FO76_headwear_fasnacht_hag.png",
    "year": 2022,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Honey Bee Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-honey-bee-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Jackalope Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/jack.png",
    "year": 2025,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Jester Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-jester-mask.webp",
    "year": 2019,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Loon Mask",
    "url": "https://raw.githubusercontent.com/ObsidianMango/ObsidianMango/main/img/loon.png",
    "year": 2024,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Man Mask",
    "url": "https://images.fallout.wiki/b/be/Faschnacht_Man_Mask.png",
    "year": 2019,
    "rarity": "common",
    "dropRate": 20.0
  },
  {
    "name": "Fasnacht Minotaur Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-minotaur-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Owl Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-owl-mask.webp",
    "year": 2019,
    "rarity": "common",
    "dropRate": 20.0
  },
  {
    "name": "Fasnacht Pig Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-pig-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Raven Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-raven-mask.webp",
    "year": 2020,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Robot Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-robot-mask.webp",
    "year": 2024,
    "rarity": "common",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Scorchbeast Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-scorchbeast-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Scorchbeast Queen Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-scorchbeast-queen-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Skull Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-skull-mask.webp",
    "year": 2019,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Soldier Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-soldier-mask.webp",
    "year": 2019,
    "rarity": "common",
    "dropRate": 20.0
  },
  {
    "name": "Fasnacht Sun Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-sun-mask.webp",
    "year": 2019,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Toothy Man Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-toothy-man-mask.webp",
    "year": 2019,
    "rarity": "common",
    "dropRate": 20.0
  },
  {
    "name": "Fasnacht Turkey Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-turkey-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Unicorn Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-unicorn-mask.webp",
    "year": 2024,
    "rarity": "uncommon",
    "dropRate": 4.4
  },
  {
    "name": "Fasnacht Winter Man Mask",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-winter-man-mask.webp",
    "year": 2021,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Winter Man T-45 Helmet",
    "url": "https://images.fallout.wiki/thumb/c/c8/FO76WL_Father_Winter_helmet.png/155px-FO76WL_Father_Winter_helmet.png",
    "year": 2021,
    "rarity": "rare",
    "dropRate": 0.2
  },
  {
    "name": "Fasnacht Witch Mask ",
    "url": "https://www.falloutbuilds.com/wp-content/uploads/sites/41/fallout-76-fasnacht-witch-mask.webp",
    "year": 2019,
    "rarity": "common",
    "dropRate": 20.0
  }
]

;

    let savedData = JSON.parse(localStorage.getItem("fasnachtMasks") || "[]");
    if (savedData.length) {
      maskData.forEach((mask, i) => {
        if (savedData[i]) mask.obtained = savedData[i].obtained;
      });
    }

    function saveChecklist() {
      localStorage.setItem("fasnachtMasks", JSON.stringify(maskData));
    }

    function renderMaskList() {
      const maskList = document.getElementById("maskList");
      maskList.innerHTML = "";
      let filteredData = maskData.filter(mask => activeFilter === "all" || mask.rarity === activeFilter);
      filteredData.sort((a, b) => {
        if (sortOption === "name") {
          return a.name.localeCompare(b.name);
        } else if (sortOption === "year") {
          return a.year - b.year;
        } else if (sortOption === "dropRate") {
          return a.dropRate - b.dropRate;
        }
      });
      filteredData.forEach((mask, index) => {
        maskList.appendChild(createMaskItem(mask, index));
      });
    }

    function createMaskItem(mask, index) {
      const container = document.createElement("div");
      container.className = "mask-item";
      if(mask.obtained) container.classList.add("obtained");

      const img = document.createElement("img");
      img.src = mask.url;
      img.alt = mask.name;
      img.addEventListener("click", (e) => {
        e.stopPropagation();
        openModal(mask);
      });

      const label = document.createElement("label");
      const formattedTitle = formatMaskTitle(mask.name);
      label.textContent = formattedTitle;
      if (mask.rarity === "glowing") {
        label.classList.add("glowing");
      }

      const details = document.createElement("div");
      details.style.fontSize = "12px";
      details.innerHTML = "Year: " + mask.year + "<br>Drop: " + mask.dropRate + "%";

      const toggleButton = document.createElement("button");
      toggleButton.className = "toggle-button";
      toggleButton.textContent = mask.obtained ? "Obtained" : "Not Obtained";
      if(mask.obtained) toggleButton.classList.add("active");
      toggleButton.addEventListener("click", (e) => {
        e.stopPropagation();
        mask.obtained = !mask.obtained;
        toggleButton.textContent = mask.obtained ? "Obtained" : "Not Obtained";
        toggleButton.classList.toggle("active", mask.obtained);
        container.classList.toggle("obtained", mask.obtained);
        saveChecklist();
      });

      container.appendChild(img);
      container.appendChild(label);
      container.appendChild(details);
      container.appendChild(toggleButton);

      container.addEventListener("click", () => {
        openModal(mask);
      });

      return container;
    }

    function openModal(mask) {
      const modal = document.getElementById("modal");
      const modalImg = document.getElementById("modalImg");
      modal.style.display = "flex";
      modalImg.src = mask.url;
      modalImg.alt = mask.name;
    }

    function closeModal() {
      document.getElementById("modal").style.display = "none";
    }

    document.getElementById("modalClose").addEventListener("click", closeModal);
    document.getElementById("modal").addEventListener("click", (e) => {
      if (e.target === e.currentTarget) closeModal();
    });

    let activeFilter = "all";
    let sortOption = "name";

    document.querySelectorAll(".filter-button").forEach(button => {
      button.addEventListener("click", () => {
        activeFilter = button.getAttribute("data-filter");
        document.querySelectorAll(".filter-button").forEach(btn => btn.classList.remove("active"));
        button.classList.add("active");
        renderMaskList();
      });
    });

    document.getElementById("sortSelect").addEventListener("change", (e) => {
      sortOption = e.target.value;
      renderMaskList();
    });

    document.getElementById("copyButton").addEventListener("click", () => {
      const ownedMasks = [];
      const unownedMasks = [];
      maskData.forEach(mask => {
        const formattedName = formatMaskTitle(mask.name);
        if (mask.obtained) ownedMasks.push(formattedName);
        else unownedMasks.push(formattedName);
      });
      const textToCopy =
        "Owned Masks:\n" + (ownedMasks.length ? ownedMasks.join("\n") : "None") +
        "\n\nUnowned Masks:\n" + (unownedMasks.length ? unownedMasks.join("\n") : "None");
      navigator.clipboard.writeText(textToCopy)
        .then(() => alert("Copied to clipboard!"))
        .catch(() => alert("Failed to copy."));
    });

    renderMaskList();
  </script>
</body>
</html>
