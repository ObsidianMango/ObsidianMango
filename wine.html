            winesToDisplay.forEach(wine => {
                const div = document.createElement('div');
                div.classList.add('result-item');
                div.textContent = `${wine.Wine} - ${wine.Country} - ${wine.Type}`;
                div.onclick = () => showPopup(wine);
                resultsContainer.appendChild(div);
            });

            // Create pagination buttons
            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement('button');
                button.textContent = i;
                if (i === currentPage) {
                    button.style.backgroundColor = '#a12a30';
                }
                button.onclick = () => {
                    currentPage = i;
                    renderResults(filteredWines);
                };
                paginationContainer.appendChild(button);
            }
        }

        function showPopup(wine) {
            document.getElementById('wine-name').textContent = wine.Wine;
            document.getElementById('wine-country').textContent = wine.Country;
            document.getElementById('wine-type').textContent = wine.Type;
            document.getElementById('wine-dry-sweet').textContent = wine['Dry/Sweet'];
            document.getElementById('wine-fruits').textContent = wine.Fruits;

            // Display optional headings based on truthy values
            document.getElementById('wine-floral').style.display = wine.Floral ? 'block' : 'none';
            document.getElementById('wine-spicy').style.display = wine.Spicy ? 'block' : 'none';
            document.getElementById('wine-earthy').style.display = wine.Earthy ? 'block' : 'none';
            document.getElementById('wine-mineral').style.display = wine.Mineral ? 'block' : 'none';
            document.getElementById('wine-oaky').style.display = wine.Oaky ? 'block' : 'none';

            document.getElementById('popup').style.display = 'block';
        }

        document.getElementById('popup-close').addEventListener('click', function() {
            document.getElementById('popup').style.display = 'none';
        });

        // Load wine data when the page loads
        window.onload = loadWineData;
    </script>

    <!-- Include PapaParse for CSV parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

</body>
</html>
